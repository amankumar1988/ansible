- name: Configuring the nodejs
  ansible.builtin.shell: curl --silent --location https://rpm.nodesource.com/setup_16.x | sudo bash -
    
- name: Installing nodejs 
  ansible.builtin.package:
    name: nodejs
    state: present

#- name: Installing npm to generate modules
#  community.general.npm:
#    path: /home/{{APPUSER}}/{{COMPONENT}}/

# create user role

- name: Calling create user role
  ansible.builtin.include_role:
    name: common 
    tasks_from: create-user

# call download and extract

- name: Calling download and extract
  ansible.builtin.include_role:
    name: common 
    tasks_from: download

#performing NPM install 

- name: Doing NPM install
  community.general.npm:
    path: /home/{{APPUSER}}/{{COMPONENT}}

# Call config service

- name: Calling config service
  ansible.builtin.include_role:
    name: common 
    tasks_from: config-svc

# call configure service role
